-include .env

deploy-sepolia:;
	@forge script script/DeployVulnerableContract.s.sol:DeployVulnerableContract --rpc-url $(SEPOLIA_RPC_URL) --evm-version cancun --account $(DEPLOYER_WALLET) --broadcast --verify --etherscan-api-key $(ETHERSCAN_API_KEY)

build:;
	@forge build --evm-version cancun

run-test:;
	@forge test --evm-version cancun

deposit:;
	cast send $(ATTACK_CONTRACT_ADDRESS) "deposit()" --value 0.0002ether --rpc-url $(SEPOLIA_RPC_URL) --account $(ACCOUNT_WALLET)

attack:;
	cast send $(ATTACK_CONTRACT_ADDRESS) "attack(uint256)" 200000000000000 --value 0ether --rpc-url $(SEPOLIA_RPC_URL) --account $(ACCOUNT_WALLET)

withdraw-all:;
	cast send $(ATTACK_CONTRACT_ADDRESS) "withdrawAll()" --value 0ether --rpc-url $(SEPOLIA_RPC_URL) --account $(ACCOUNT_WALLET)