package email_test

import (
	"os"
	"testing"

	"github.com/rahul7668gupta/sc-exploit/pkg/utils/email"
)

func TestSendEmail_Success(t *testing.T) {
	t.Skip("Skipping test as it requires sensitive values")
	// Set environment variables
	os.Setenv("ENABLE_EMAIL_NOTIFICATION", "true")
	os.Setenv("EMAIL_JS_SERVICE_ID", "service_123456")
	os.Setenv("EMAIL_JS_TEMPLATE_ID", "template_123456")
	os.Setenv("EMAIL_JS_USER_ID", "user_123456")
	os.Setenv("EMAIL_RECEIVER", "email@example.com")
	os.Setenv("EMAIL_JS_API_KEY", "key-")

	// Create a new EmailService instance
	emailService, err := email.NewEmailService()
	if err != nil {
		t.Fatalf("Failed to create EmailService: %v", err)
	}

	address := "0x1234567890"
	reentrancyHash := "0xabcdef123456"
	pauseHash := "0x9876543210"

	err = emailService.SendEmail(address, reentrancyHash, pauseHash)
	if err != nil {
		t.Errorf("Expected no error, got %v", err)
	}
}
